require=function t(e,i,n){function o(c,a){if(!i[c]){if(!e[c]){var r="function"==typeof require&&require;if(!a&&r)return r(c,!0);if(s)return s(c,!0);var h=new Error("Cannot find module '"+c+"'");throw h.code="MODULE_NOT_FOUND",h}var d=i[c]={exports:{}};e[c][0].call(d.exports,function(t){var i=e[c][1][t];return o(i||t)},d,d.exports,t,e,i,n)}return i[c].exports}for(var s="function"==typeof require&&require,c=0;c<n.length;c++)o(n[c]);return o}({BulletDemo:[function(t,e,i){"use strict";cc._RF.push(e,"42c20QoWYhK4IDxIoK2THZn","BulletDemo"),cc.Class({extends:cc.Component,properties:{speed:0,duration:0},onLoad:function(){this.timer=0},changePos:function(t){var e=cc.p();1==this.orientation?e=cc.p(this.node.x,this.node.y+t*this.speed):2==this.orientation?e=cc.p(this.node.x+t*this.speed,this.node.y):3==this.orientation?e=cc.p(this.node.x,this.node.y-t*this.speed):0===this.orientation&&(e=cc.p(this.node.x-t*this.speed,this.node.y)),this.node.parent.height/2<Math.abs(e.y)&&this.node.parent.width/2<Math.abs(e.x)?this.node.destroy():this.node.setPosition(e)},destroyBullet:function(){this.node.destroy()},playAnim:function(){this.getComponent(cc.Animation).play()},update:function(t){if(this.timer>=this.duration)return this.speed=0,this.playAnim(),void(this.timer=0);this.timer+=t,this.changePos(t)}}),cc._RF.pop()},{}],Bullet:[function(t,e,i){"use strict";cc._RF.push(e,"4ef3aepEQxLdLTlMv1V9GXD","Bullet"),cc.Class({extends:cc.Component,properties:{speed:0,duration:0},onLoad:function(){this.timer=0},changePos:function(t){var e=cc.p();1==this.orientation?e=cc.p(this.node.x,this.node.y+t*this.speed):2==this.orientation?e=cc.p(this.node.x,this.node.y-t*this.speed):3==this.orientation?e=cc.p(this.node.x-t*this.speed,this.node.y):4==this.orientation&&(e=cc.p(this.node.x+t*this.speed,this.node.y)),this.node.parent.height/2<Math.abs(e.y)&&this.node.parent.width/2<Math.abs(e.x)?this.node.destroy():(this.node.x=e.x,this.node.y=e.y)},update:function(t){this.timer>=this.duration?this.node.destroy():(this.timer+=t,this.changePos(t))}}),cc._RF.pop()},{}],Game:[function(t,e,i){"use strict";cc._RF.push(e,"a5a27vgJ31OSrkD39iOUve9","Game"),cc.Class({extends:cc.Component,properties:{tankePrefab:{default:null,type:cc.Prefab},heroNode:{default:null,type:cc.Node},MaxNumber:0,bulletsBtn:{default:null,type:cc.Node},upBtn:{default:null,type:cc.Node},dwonBtn:{default:null,type:cc.Node},leftBtn:{default:null,type:cc.Node},rightBtn:{default:null,type:cc.Node},gameOverNode:{default:null,type:cc.Node},scoreDisplay:{default:null,type:cc.Node},gameBGMAudio:{default:null,url:cc.AudioClip}},onLoad:function(){this.makeTanke(),this.setBtnTag(),this.gameOver=0,this.score=0,this.BGMID=cc.audioEngine.play(this.gameBGMAudio,!0),cc.audioEngine.setVolume(this.BGMID,.6)},setBtnTag:function(){this.bulletsBtn.zIndex=3,this.upBtn.zIndex=3,this.dwonBtn.zIndex=3,this.leftBtn.zIndex=3,this.rightBtn.zIndex=3,this.gameOverNode.zIndex=3,this.scoreDisplay.zIndex=3},createTanke:function(){this.score+=10,this.scoreDisplay.getComponent(cc.Label).string="score: "+this.score.toString();var t=cc.instantiate(this.tankePrefab),e=cc.p(cc.randomMinus1To1()*(cc.winSize.width/2-20),cc.randomMinus1To1()*(cc.winSize.height/2-20));t.getComponent("Tanke").game=this,t.setPosition(e),this.node.addChild(t,1,1),this.newTanke=0},makeTanke:function(){var t=cc.p(this.node.x,this.node.y),e=[cc.p(20-t.x,20-t.y),cc.p(20-t.x,-t.y/2),cc.p(20-t.x,0),cc.p(20-t.x,t.y/2),cc.p(20-t.x,t.y-20),cc.p(2*-t.x/5,t.y-20),cc.p(4*-t.x/5,t.y-20),cc.p(t.x/5,t.y-20),cc.p(3*t.x/5,t.y-20),cc.p(t.x-20,20-t.y),cc.p(t.x-20,-t.y/2),cc.p(t.x-20,0),cc.p(t.x-20,t.y/2),cc.p(t.x-20,t.y-20),cc.p(2*-t.x/5,20-t.y),cc.p(4*-t.x/5,20-t.y),cc.p(t.x/5,20-t.y),cc.p(3*t.x/5,20-t.y)];this.tankeArr=new Array(this.MaxNumber);for(var i=0;i<this.MaxNumber;i++)this.tankeArr[i]=cc.instantiate(this.tankePrefab),this.tankeArr[i].setPosition(e[i]),this.tankeArr[i].getComponent("Tanke").game=this,this.node.addChild(this.tankeArr[i],1,1);this.heroNode.getComponent("Hero").game=this,this.heroNode.tag=1},update:function(t){1===this.gameOver&&!1===this.gameOverNode.active?(this.gameOverNode.getComponent("gameOver").score=this.score,this.gameOverNode.active=!0,cc.audioEngine.stopAll()):1==this.newTanke&&this.createTanke()}}),cc._RF.pop()},{}],Hero:[function(t,e,i){"use strict";cc._RF.push(e,"5f69cg7JGlC/ZnbchLAwKqd","Hero"),cc.Class({extends:cc.Component,properties:{speed:0,bulletPrefab:{default:null,type:cc.Prefab},bulletsAudio:{default:null,url:cc.AudioClip},tankCrackAudio:{default:null,url:cc.AudioClip}},onLoad:function(){this.k=2,this.temp=this.speed,cc.director.getCollisionManager().enabled=!0,this.orientation=1,this.setInputControl()},bullets:function(){var t=cc.instantiate(this.bulletPrefab);t.rotation=this.node.rotation,t.x=this.node.x,t.y=this.node.y,t.getComponent("Bullet").orientation=this.orientation,t.getComponent("Bullet").k=4,this.node.parent.addChild(t,2,2),cc.audioEngine.playEffect(this.bulletsAudio,!1)},setOrientationUp:function(){this.orientation=1,this.changeOrientation()},setOrientationDown:function(){this.orientation=2,this.changeOrientation()},setOrientationLeft:function(){this.orientation=3,this.changeOrientation()},setOrientationRight:function(){this.orientation=4,this.changeOrientation()},setInputControl:function(){var t=this;cc.eventManager.addListener({event:cc.EventListener.KEYBOARD,onKeyPressed:function(e,i){switch(e){case cc.KEY.a:t.orientation=3;break;case cc.KEY.d:t.orientation=4;break;case cc.KEY.w:t.orientation=1;break;case cc.KEY.s:t.orientation=2;break;case cc.KEY.space:t.bullets()}t.changeOrientation()},onKeyReleased:function(t,e){}},t.node)},changeOrientation:function(){1==this.orientation?this.node.rotation=0:2==this.orientation?this.node.rotation=180:3==this.orientation?this.node.rotation=270:4==this.orientation&&(this.node.rotation=90),this.speed=this.temp},changePosition:function(t){var e=this.node.getPosition();1==this.orientation?e.y=e.y+t*this.speed:2==this.orientation?e.y=e.y-t*this.speed:3==this.orientation?e.x=e.x-t*this.speed:4==this.orientation&&(e.x=e.x+t*this.speed),this.node.parent.height/2-20>Math.abs(e.y)&&this.node.parent.width/2-20>Math.abs(e.x)&&this.node.setPosition(e)},onCollisionEnter:function(t,e){2==t.node.tag?3==t.getComponent("Bullet").k&&(this.game.gameOver=1,cc.audioEngine.playEffect(this.tankCrackAudio,!1),t.node.removeFromParent(),this.node.destroy()):this.isFront(t.node.getPosition())&&(this.speed=0)},isFront:function(t){var e;switch(this.orientation){case 1:e=this.node.y>t.y?0:1;break;case 2:e=this.node.y>t.y?1:0;break;case 3:e=this.node.x>t.x?1:0;break;case 4:e=this.node.x>t.x?0:1}return e},onCollisionExit:function(t,e){this.speed=this.temp},update:function(t){this.changePosition(t)}}),cc._RF.pop()},{}],TankeDemo:[function(t,e,i){"use strict";cc._RF.push(e,"bcb7958NXVP054QbtA+XihN","TankeDemo"),cc.Class({extends:cc.Component,properties:{bulletPrefab:{default:null,type:cc.Prefab}},onLoad:function(){this.setMoveAction();var t=cc.winSize;this.node.setPosition(-t.width/2+this.dis,-t.height/2+this.dis),this.timer=0,this.orientation=1},bullets:function(){var t=cc.instantiate(this.bulletPrefab);t.rotation=this.node.rotation,t.setPosition(this.node.getPosition()),t.getComponent("BulletDemo").orientation=this.orientation%4,this.node.parent.addChild(t,2,2)},setMoveAction:function(){var t=cc.callFunc(function(){this.orientation+=1,this.bullets()},this),e=cc.winSize,i=cc.moveTo(10,-e.width/2+this.dis,e.height/2-this.dis).easing(cc.easeCubicActionInOut()),n=cc.moveTo(10,e.width/2-this.dis,e.height/2-this.dis).easing(cc.easeCubicActionInOut()),o=cc.moveTo(10,e.width/2-this.dis,-e.height/2+this.dis).easing(cc.easeCubicActionInOut()),s=cc.moveTo(10,-e.width/2+this.dis,-e.height/2+this.dis).easing(cc.easeCubicActionInOut()),c=cc.rotateBy(1,90),a=cc.sequence(i,c,t,n,c,t,o,c,t,s,c,t).repeatForever();this.node.runAction(a)},update:function(t){}}),cc._RF.pop()},{}],Tanke:[function(t,e,i){"use strict";cc._RF.push(e,"84721l/vvxKb4rz5JjeM3Gx","Tanke"),cc.Class({extends:cc.Component,properties:{bulletPrefab:{default:null,type:cc.Prefab},bulletsAudio:{default:null,url:cc.AudioClip},tankCrackAudio:{default:null,url:cc.AudioClip},minDuration:0,maxDuration:0,speed:0},onLoad:function(){this.k=1,this.temp=this.speed,cc.director.getCollisionManager().enabled=!0,this.orientation=parseInt(3.9*cc.random0To1()+1),this.changeOrientation(),this.timer=0,this.duration=0,this.live=!0},changePosition:function(t){var e=this.node.getPosition();1==this.orientation?e.y=e.y+t*this.speed:2==this.orientation?e.y=e.y-t*this.speed:3==this.orientation?e.x=e.x-t*this.speed:4==this.orientation&&(e.x=e.x+t*this.speed),this.node.parent.height/2-19>Math.abs(e.y)&&this.node.parent.width/2-19>Math.abs(e.x)&&this.node.setPosition(e)},changeOrientation:function(){1==this.orientation?this.node.rotation=0:2==this.orientation?this.node.rotation=180:3==this.orientation?this.node.rotation=270:4==this.orientation&&(this.node.rotation=90),this.duration=this.minDuration+cc.random0To1()*(this.maxDuration-this.minDuration)},destroyTanke:function(){this.node.destroy()},onCollisionEnter:function(t,e){if(this.live)if(2==t.node.tag)4==t.getComponent("Bullet").k&&(this.live=!1,this.game.newTanke=1,cc.audioEngine.playEffect(this.tankCrackAudio,!1),this.timer=0,this.getComponent(cc.Animation).play(),t.node.removeFromParent());else if(this.isFront(t.node.getPosition())){this.speed=0;for(var i=0;i<8;i++)this.orientation=parseInt(3.9*cc.random0To1()+1),0===this.isFront(t.node.getPosition())&&(this.changeOrientation(),this.timer=0,this.speed=this.temp,i=8)}},isFront:function(t){var e=0;switch(this.orientation){case 1:e=this.node.y<t.y?1:0;break;case 2:e=this.node.y>t.y?1:0;break;case 3:e=this.node.x>t.x?1:0;break;case 4:e=this.node.x>t.x?0:1}return e},onCollisionExit:function(t,e){this.speed=this.temp},bullets:function(){var t=cc.instantiate(this.bulletPrefab);t.rotation=this.node.rotation,t.x=this.node.x,t.y=this.node.y,t.getComponent("Bullet").orientation=this.orientation,t.getComponent("Bullet").k=3,this.node.parent.addChild(t,2,2)},update:function(t){if(this.timer>this.duration)return this.orientation=parseInt(3.9*cc.random0To1()+1),this.changeOrientation(),void(this.timer=0);.5!=this.timer.toFixed(1)&&1.5!=this.timer.toFixed(1)||this.bullets(),this.timer+=t,this.changePosition(t)}}),cc._RF.pop()},{}],gameOver:[function(t,e,i){"use strict";cc._RF.push(e,"012edAbDBBHDqL6vEkD878D","gameOver"),cc.Class({extends:cc.Component,properties:{scoreNode:{default:null,type:cc.Label},bestScoreNode:{default:null,type:cc.Label},againNode:{default:null,type:cc.Node},backBtnNode:{default:null,type:cc.Node}},onLoad:function(){this.node.activate=!1,this.scoreNode.string=this.score,this.bestScoreNode.string=this.score+this.score%9*10},starstarScene:function(){cc.audioEngine.stopAll(),cc.director.loadScene("starScene")},againGame:function(){cc.director.loadScene("game")}}),cc._RF.pop()},{}],musicSwitch:[function(t,e,i){"use strict";cc._RF.push(e,"fc20ewXZz1MAadV4isoz3hm","musicSwitch"),cc.Class({extends:cc.Component,properties:{musicOnSprite:{default:null,type:cc.SpriteFrame},musicOffSprite:{default:null,type:cc.SpriteFrame},buttonAudio:{default:null,url:cc.AudioClip},BGMAudio:{default:null,url:cc.AudioClip}},onLoad:function(){this.count=1,this.musicID=cc.audioEngine.playEffect(this.BGMAudio,!0)},clickFunc:function(){cc.audioEngine.playEffect(this.buttonAudio,!1),this.count++;var t=this.node.addComponent(cc.Sprite);this.count%2==0?(cc.audioEngine.pause(this.musicID),t.spriteFrame=this.musicOffSprite):(cc.audioEngine.resume(this.musicID),t.spriteFrame=this.musicOnSprite)}}),cc._RF.pop()},{}],starScene:[function(t,e,i){"use strict";cc._RF.push(e,"b247dUIOahIO5hlsIuU0JRM","starScene"),cc.Class({extends:cc.Component,properties:{tankePrefab:{default:null,type:cc.Prefab},titleNode:{default:null,type:cc.Node},switchNode:{default:null,type:cc.Node},starBtnNode:{default:null,type:cc.Node},helpBtnNode:{default:null,type:cc.Node},companyNode:{default:null,type:cc.Node},buttonAudio:{default:null,url:cc.AudioClip}},onLoad:function(){this.createTankDemo(),this.setNodeZindex()},setNodeZindex:function(){this.titleNode.zIndex=3,this.switchNode.zIndex=3,this.starBtnNode.zIndex=3,this.helpBtnNode.zIndex=3,this.companyNode.zIndex=3},createTankDemo:function(){this.tankeArr=new Array(4);for(var t=1;t<5;t++)this.tankeArr[t]=cc.instantiate(this.tankePrefab),this.tankeArr[t].getComponent("TankeDemo").dis=60*t,this.node.addChild(this.tankeArr[t],1)},starGame:function(){cc.audioEngine.playEffect(this.buttonAudio,!1),cc.audioEngine.stopAll(),cc.director.loadScene("game")}}),cc._RF.pop()},{}]},{},["Bullet","BulletDemo","Game","Hero","Tanke","TankeDemo","gameOver","musicSwitch","starScene"]);